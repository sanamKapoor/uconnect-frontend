{"version":3,"sources":["Layout/Pages/SearchUsers.js","Layout/components/Modal/ModalHeader.js","redux/actions/userActions.js","Layout/components/Common/UIElements/MediaUploader.js","Layout/components/Common/CreatePostForm.js","Layout/components/User/SuggestedUser.js","Layout/components/Modal/CreatePostModal.js","Layout/components/Common/MainNavLinks.js","Layout/components/Common/MainHeader.js","Layout/components/Common/UIElements/ShowSearchResults.js","Layout/components/Common/UIElements/ShowSearchInputOrNot.js","Layout/hooks/search-users-hook.js"],"names":["SearchUsers","dispatch","useDispatch","useSelector","state","user","users","userLoading","userErrorMsg","userId","auth","modal","modalErrorMsg","showErrorToast","useSearchUserHook","userFound","searchResults","searchUser","setSearchUser","setUserFound","showSearchUserHandler","useEffect","fetchUserData","openSocket","process","on","data","action","updateUser","timer","setTimeout","modalError","showErrorToastFun","clearTimeout","msg","className","length","ModalHeader","src","image","width","height","classes","username","isLoading","type","Actions","payload","userErrors","err","userSuccess","getUsers","getUser","updateOtherUser","url","method","body","headers","token","localStorage","getItem","fetch","res","json","ok","Error","message","ImageUploader","mediaFile","fileHandler","disable","filePickerRef","createRef","name","ref","style","accept","onChange","disabled","onClick","current","click","CreatePostForm","parent","formRef","modalLoading","modalSuccessMsg","useState","modalHeight","setModalHeight","caption","setCaption","setMediaFile","mediaUrl","setMediaUrl","mediaId","setMediaId","mediaName","setMediaName","setDisable","document","querySelector","clientHeight","onSubmit","e","preventDefault","showSuccessToastFun","postData","JSON","stringify","fileName","filePath","creator","backendReqModal","inputName","inputText","inputType","inputValue","onChangeHandler","target","value","minLength","maxLength","checkText","files","file","FormData","append","then","secure_url","public_id","catch","SuggestedUser","usr","showOption","isFollow","setIsFollow","connections","found","_id","to","CreatePostModal","show","onHide","Modal","aria-labelledby","centered","Header","closeButton","Title","id","Body","MainNavLinks","createPost","setCreatePost","logOutUser","MainHeader","href","data-toggle","data-target","aria-controls","aria-expanded","aria-label","ShowSearchResults","map","key","ShowSearchInputOrNot","onKeyPressHandler","setSearchResults","filter","u","prev"],"mappings":"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","file":"static/js/10.5d22acef.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\r\nimport openSocket from 'socket.io-client';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport useSearchUserHook from '../hooks/search-users-hook';\r\n\r\nimport ShowToast from '../components/Common/UIElements/ShowToast';\r\nimport MainHeader from '../components/Common/MainHeader'\r\nimport Loading from '../components/Common/UIElements/Loading';\r\nimport ShowSearchResults from '../components/Common/UIElements/ShowSearchResults';\r\nimport ShowSearchInputOrNot from '../components/Common/UIElements/ShowSearchInputOrNot';\r\n\r\nimport { fetchUserData, updateUser } from '../../redux/actions/userActions';\r\nimport { modalError, showErrorToastFun } from '../../redux/actions/modalActions';\r\n\r\nfunction SearchUsers() {\r\n\r\n    const dispatch = useDispatch();\r\n    const { users, userLoading, userErrorMsg } = useSelector(state => state.user);\r\n    const { userId } = useSelector(state => state.auth);\r\n    const { modalErrorMsg, showErrorToast } = useSelector(state => state.modal);\r\n    \r\n    const [ userFound, searchResults, searchUser, setSearchUser, setUserFound, showSearchUserHandler ] = useSearchUserHook();\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchUserData(`/user/${userId}`))\r\n    }, [userId, dispatch])\r\n\r\n    useEffect(() => {\r\n        const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\r\n        socket.on('users', data => {\r\n            if(data.action === 'ConnectOrBlockUser'){\r\n                dispatch(updateUser(data.user))\r\n            }\r\n        })\r\n    }, [dispatch])\r\n\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n          modalErrorMsg && dispatch(modalError(''))\r\n          !showErrorToast && dispatch(showErrorToastFun(true))\r\n        }, 2000)\r\n  \r\n        return () => {\r\n          clearTimeout(timer);\r\n        }\r\n      }, [dispatch, modalErrorMsg, showErrorToast])\r\n\r\n    return (\r\n        <>\r\n            <MainHeader />       \r\n            { (modalErrorMsg && showErrorToast) && <ShowToast msg={modalErrorMsg} /> } \r\n            <div className=\"pt-5\"></div>\r\n            <div className=\"container search-and-suggested-users my-5\">\r\n            { userLoading && <div className=\"text-center\"><Loading /></div> }\r\n            { \r\n                (userErrorMsg && !userLoading) && <div className=\"text-center\">{userErrorMsg}</div> \r\n            } \r\n            { \r\n              (!userErrorMsg && !userLoading && users.length > 0) &&\r\n                <div className=\"suggested-users shadow p-2 p-sm-3 rounded-lg\">\r\n                    <ShowSearchInputOrNot\r\n                        users={users} \r\n                        userId={userId} \r\n                        searchUser={searchUser}\r\n                        setSearchUser={setSearchUser}\r\n                        setUserFound={setUserFound}\r\n                        showSearchUserHandler={showSearchUserHandler}\r\n                    />\r\n                <>\r\n                    <ShowSearchResults \r\n                        users={users} \r\n                        userId={userId}\r\n                        userFound={userFound}\r\n                        searchUser={searchUser}\r\n                        searchResults={searchResults}\r\n                     />\r\n                </>\r\n                </div>\r\n                }\r\n            </div>\r\n            <div className=\"pt-4\"></div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SearchUsers\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport ShowImage from '../Common/UIElements/ShowImage';\r\n\r\nfunction ModalHeader() {\r\n    const  { user } = useSelector(state => state.user);\r\n    \r\n    return (\r\n        <>\r\n            <ShowImage src={user.image} width=\"30\" height=\"30\" classes=\"rounded-circle mr-1\" /> <span>{user.username}</span>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ModalHeader\r\n","import * as Actions from '../types/userTypes';\r\n\r\nconst userLoading = (isLoading) => {\r\n    return {\r\n        type: Actions.USER_LOADING,\r\n        payload: isLoading\r\n    }   \r\n}\r\n\r\nexport const userErrors = (err) => {\r\n    return {\r\n        type: Actions.USER_ERRORS,\r\n        payload: err\r\n    }   \r\n}\r\n\r\nconst userSuccess = msg => {\r\n    return {\r\n        type: Actions.USER_SUCCESS_MSG,\r\n        payload: msg\r\n    }\r\n}\r\n\r\nexport const getUsers = (users) => {\r\n    return {\r\n        type: Actions.GET_USERS,\r\n        payload: users\r\n    }   \r\n}\r\n\r\nexport const getUser = (user) => {\r\n    return {\r\n        type: Actions.GET_USER,\r\n        payload: user\r\n    }   \r\n}\r\n\r\nexport const updateUser = (user) => {\r\n    return {\r\n        type: Actions.UPDATE_USER,\r\n        payload: user\r\n    }\r\n}\r\n\r\nexport const updateOtherUser = user => {\r\n    return {\r\n        type: Actions.UPDATE_OTHER_USER,\r\n        payload: user\r\n    }\r\n}\r\n\r\n//      Backend End-Point\r\nexport const fetchUserData = (url, method = 'GET', body = null, headers) => async dispatch => {\r\n\r\n    if(method === 'GET'){\r\n        dispatch(userLoading(true));\r\n    }\r\n    try {\r\n        const token = localStorage.getItem('jwtToken');\r\n\r\n        const res = await fetch(process.env.REACT_APP_BACKEND_URL + url, {\r\n            method,\r\n            body,\r\n            headers: {\r\n                ...headers,\r\n                'Authorization': 'Bearer ' + token \r\n            }\r\n        })   \r\n\r\n        const data = await res.json();\r\n\r\n        if(!res.ok){\r\n            throw new Error(data.message)\r\n        }\r\n\r\n        dispatch(userLoading(false));\r\n\r\n        const { users, user, msg } = data;\r\n\r\n        if(users){\r\n            dispatch(getUsers(users))\r\n        }\r\n        if(user){\r\n            dispatch(getUser(user))\r\n        }\r\n        if(!user && !users && msg){\r\n            dispatch(userSuccess(msg))\r\n        }\r\n    } catch (err) {\r\n        dispatch(userLoading(false))\r\n        err.message ? dispatch(userErrors(err.message)) : dispatch(userErrors(err))\r\n    }\r\n}\r\n","import React, { createRef } from 'react'\r\n\r\nfunction ImageUploader({mediaFile, fileHandler, disable}) {\r\n    const filePickerRef = createRef();\r\n\r\n    const pickerFileHandler = () => {\r\n        filePickerRef.current.click();\r\n    }\r\n\r\n    return (\r\n        <div className=\"file-upload my-2 my-sm-3\">\r\n            <span className=\"text-muted text-center px-2\">\r\n                { mediaFile ? mediaFile.name : 'Select any image file' }\r\n            </span>\r\n            <input \r\n                type=\"file\"\r\n                ref={filePickerRef}\r\n                style={{\"display\": \"none\"}}\r\n                accept=\".jpg,.jpeg,.png\"\r\n                onChange={fileHandler}\r\n                />\r\n            <button type=\"button\" disabled={disable} onClick={pickerFileHandler} className=\"btn btn-secondary btn-sm my-2\">Upload</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImageUploader\r\n","import React, { useState, useEffect, createRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { backendReqModal, modalError, showErrorToastFun, showSuccessToastFun } from '../../../redux/actions/modalActions';\r\n\r\nimport ImageUploader from './UIElements/MediaUploader';\r\nimport Loading from './UIElements/Loading';\r\nimport InputElement from './UIElements/InputElement';\r\n\r\nfunction CreatePostForm({userId, parent}) {\r\n\r\n    const formRef = createRef();\r\n    const dispatch = useDispatch();\r\n    const { modalLoading, modalErrorMsg, modalSuccessMsg } = useSelector(state => state.modal);\r\n\r\n    const [modalHeight, setModalHeight] = useState(0);\r\n    const [caption, setCaption] = useState('');\r\n    const [mediaFile, setMediaFile] = useState(null);\r\n    const [mediaUrl, setMediaUrl] = useState('');\r\n    const [mediaId, setMediaId] = useState('');\r\n    const [mediaName, setMediaName] = useState('');\r\n    const [disable, setDisable] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let height;\r\n        if(parent === 'modal'){\r\n            height = document.querySelector('.modal-body').clientHeight;\r\n        } else {\r\n            height = document.querySelector('form').clientHeight;\r\n        }\r\n        setModalHeight(height)\r\n    }, [parent])\r\n\r\n    useEffect(() => {\r\n        if(modalErrorMsg === '' && modalSuccessMsg !== ''){\r\n            setCaption('')\r\n            setMediaFile(null)\r\n        }\r\n\r\n    }, [modalErrorMsg, modalSuccessMsg])\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault();\r\n        dispatch(showErrorToastFun(false));\r\n        dispatch(showSuccessToastFun(true));\r\n\r\n        const postData = JSON.stringify({\r\n            caption,\r\n            mediaFile: {\r\n                mediaId: mediaId,\r\n                fileName: mediaName,\r\n                filePath: mediaUrl\r\n            },\r\n            creator: userId\r\n        })\r\n\r\n        dispatch(backendReqModal('/post/create', 'POST', postData, {\r\n            'Content-Type': 'application/json'\r\n        }));\r\n\r\n    }\r\n\r\n    const fileHandler = e => {\r\n        if(e.target.files && e.target.files.length === 1){\r\n\r\n            setMediaFile(e.target.files[0])\r\n            const file = e.target.files[0];\r\n\r\n            if(file.type === \"image/jpg\" || file.type === \"image/png\" || file.type === \"image/jpeg\") {\r\n\r\n            setDisable(true);\r\n            const data = new FormData()\r\n            data.append(\"file\", file)\r\n            data.append(\"upload_preset\", process.env.REACT_APP_PRESET)\r\n            data.append(\"cloud_name\", process.env.REACT_APP_CLOUD_NAME)\r\n\r\n            fetch(`${process.env.REACT_APP_CLOUDINARY_URL}/${process.env.REACT_APP_CLOUD_NAME}/image/upload`, {\r\n                method:\"post\",\r\n                body: data\r\n            })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                setMediaUrl(data.secure_url)\r\n                setMediaId(data.public_id)\r\n                setMediaName(file.name)\r\n                setDisable(false);\r\n                dispatch(modalError(''))\r\n            })\r\n            .catch(err=> {\r\n                dispatch(modalError('Something went wrong'))\r\n            })\r\n         } else {\r\n            dispatch(modalError('Invalid file type'))\r\n            return;\r\n         }\r\n        }\r\n    }\r\n\r\n\r\n    if(modalLoading){\r\n        return <div className=\"d-flex flex-column justify-content-center align-items-center\" style={{height: `${modalHeight}px`}}>\r\n            <Loading />\r\n            <span className=\"my-2\">Please wait...</span>\r\n        </div>\r\n    } else {\r\n        return (\r\n        <form className=\"form p-0 p-sm-2 text-center\" ref={formRef} onSubmit={submitHandler}>\r\n            <InputElement \r\n                inputName=\"caption\"\r\n                inputText=\"Caption\"\r\n                inputType=\"text\"\r\n                inputValue={caption}\r\n                onChangeHandler={e => setCaption(e.target.value)}\r\n                classes=\"form-control\"\r\n                minLength=\"5\"\r\n                maxLength=\"200\"\r\n                checkText={true} \r\n            />\r\n            <ImageUploader \r\n                mediaFile={mediaFile}\r\n                fileHandler={fileHandler}\r\n                disable={disable}\r\n            />\r\n            { \r\n            (modalErrorMsg) && \r\n                <span className=\"text-danger my-2\"> \r\n                    {modalErrorMsg === 'Invalid value' ? 'Please provide both fields' : modalErrorMsg}\r\n                </span>\r\n             }\r\n            <button type=\"submit\" disabled={disable} className=\"btn btn-secondary btn-block mt-2 mt-sm-3\">\r\n                { disable ? 'Please wait...' : 'Create Post'}\r\n            </button>\r\n        </form>\r\n    )\r\n    }\r\n}\r\n\r\nexport default CreatePostForm\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { backendReqModal, showSuccessToastFun } from '../../../redux/actions/modalActions';\r\nimport ShowImage from '../Common/UIElements/ShowImage';\r\n\r\nfunction SuggestedUser({ usr, showOption }) {\r\n\r\n    const { user } = useSelector(state => state.user);\r\n    const { userId } = useSelector(state => state.auth);\r\n    \r\n    const dispatch = useDispatch();\r\n\r\n    const [isFollow, setIsFollow] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if(user.connections){\r\n            let found = false;\r\n            if(user.connections.length > 0){\r\n                for(let u of user.connections){\r\n                    if(u === usr._id){\r\n                        found = true;\r\n                        break;\r\n                    } \r\n                }\r\n            }\r\n\r\n            if(found){\r\n                setIsFollow(false);\r\n            } else {\r\n                setIsFollow(true);\r\n            }\r\n        } \r\n        \r\n    }, [user.connections, usr])\r\n\r\n    const followAndBlockHandler = () => {\r\n        dispatch(showSuccessToastFun(false));\r\n        \r\n        if(isFollow){\r\n            dispatch(backendReqModal(`/user/${usr._id}/connect/${userId}`, 'POST'))\r\n        } else {\r\n            dispatch(backendReqModal(`/user/${usr._id}/block/${userId}`, 'POST'))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"row no-gutters d-flex justify-content-between align-items-center my-3\">\r\n            <Link to={`/profile/${usr._id}`} className=\"post-user pointer text-dark text-decoration-none\">\r\n                <ShowImage src={usr.image} width=\"30\" height=\"30\" classes=\"rounded-circle mr-1\" />\r\n                <span>{usr.username}</span>\r\n            </Link>\r\n            {\r\n                (showOption && usr._id !== userId)  &&\r\n                <>\r\n                    <small \r\n                        className=\"text-info mr-2 pointer\" \r\n                        onClick={followAndBlockHandler}>\r\n                            { isFollow ? 'Connect' : 'Block'}\r\n                    </small>\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SuggestedUser\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Modal } from 'react-bootstrap';\r\n\r\nimport ModalHeader from './ModalHeader';\r\nimport CreatePostForm from '../Common/CreatePostForm';\r\nimport { useEffect } from 'react';\r\nimport { showSuccessToastFun, showErrorToastFun } from '../../../redux/actions/modalActions';\r\n\r\nfunction CreatePostModal({ show, onHide }) {\r\n  \r\n    const dispatch = useDispatch();\r\n    const { userId } = useSelector(state => state.auth);\r\n\r\n    useEffect(() => {\r\n      if(show){\r\n        dispatch(showErrorToastFun(false))\r\n        dispatch(showSuccessToastFun(true))\r\n      } else {\r\n        dispatch(showErrorToastFun(true))\r\n        dispatch(showSuccessToastFun(false))\r\n      }\r\n    }, [show, dispatch])\r\n\r\n    return (\r\n      <>\r\n      <Modal\r\n        show={show}\r\n        onHide={onHide}\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title className=\"h6\" id=\"contained-modal-title-vcenter\">\r\n            <ModalHeader />\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <CreatePostForm userId={userId} parent=\"modal\" />\r\n        </Modal.Body>\r\n      </Modal>\r\n      </>\r\n    );\r\n  }\r\n  \r\n  \r\n export default CreatePostModal;","import React, { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport CreatePostModal from '../Modal/CreatePostModal';\r\nimport { logOutUser } from '../../../redux/actions/authActions';\r\n\r\nfunction MainNavLinks() {\r\n\r\n    const dispatch = useDispatch();\r\n    const [createPost, setCreatePost] = useState(false);\r\n    const { userId } = useSelector(state => state.auth)\r\n\r\n    const logoutHandler = () => {\r\n      dispatch(logOutUser())\r\n      fetch('/auth/logout');\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n          <ul className=\"navbar-nav ml-auto\">\r\n            <div className=\"d-none d-lg-flex\">\r\n            <li className=\"nav-item\">\r\n              <span className=\"nav-link icon mx-2 btn\">\r\n                <i className=\"fas fa-upload fa-1x\" onClick={() => setCreatePost(true)}></i>\r\n              </span>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink to={`/profile/${userId}`} className=\"nav-link icon mx-2\">\r\n                <i className=\"far fa-user fa-1x\"></i>\r\n              </NavLink>\r\n            </li>\r\n          </div>\r\n            <li className=\"nav-item align-self-center\">\r\n                <span className=\"nav-link mx-2 pointer\" onClick={logoutHandler}>\r\n                    Logout\r\n                </span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <CreatePostModal \r\n          show={createPost}\r\n          onHide={() => setCreatePost(false)}\r\n          />\r\n      </>\r\n    )\r\n}\r\n\r\nexport default MainNavLinks\r\n","import React from 'react'\r\nimport MainNavLinks from './MainNavLinks'\r\n\r\nfunction MainHeader() {\r\n    return (\r\n    <header className=\"shadow-sm\">\r\n      <nav className=\"navbar navbar-expand navbar-light container-fluid container-md\">\r\n        <a className=\"navbar-brand font-weight-bold\" href=\"/\">UConnect </a>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <MainNavLinks />\r\n      </nav>\r\n      </header>\r\n    )\r\n}\r\n\r\nexport default MainHeader\r\n","import React from 'react';\r\n\r\nimport SuggestedUser from '../../User/SuggestedUser';\r\n\r\nfunction ShowSearchResults({ users, userId, userFound, searchResults, searchUser, showOption }){\r\n\r\n    return (\r\n    <>\r\n        {\r\n            (users.length > 0 && !searchUser) ? \r\n            users.map(user => {\r\n                if(user._id !== userId){\r\n                    return <SuggestedUser key={user._id} usr={user} showOption={showOption} />\r\n                }\r\n                return false;\r\n            })\r\n            : \r\n            (searchResults.length > 0) &&\r\n            searchResults.map(user => {\r\n                if(user._id !== userId){\r\n                    return <SuggestedUser key={user._id} usr={user} showOption={showOption} />\r\n                }\r\n                return false;\r\n            })\r\n        }\r\n        {\r\n            (!userFound) ? <div className=\"text-center\"><span>No User Found</span></div> : ''\r\n        }\r\n    </>\r\n    )\r\n}\r\n\r\nexport default ShowSearchResults\r\n","import React from 'react';\r\n\r\nimport InputElement from './InputElement';\r\n\r\nfunction ShowSearchInputOrNot({ users, userId, searchUser, setSearchUser, setUserFound, showSearchUserHandler }) {\r\n    \r\n    if(users.length === 1 && users[0]._id === userId)  \r\n        return <div className=\"text-center\"><span>No User Found</span></div> \r\n    else {\r\n        return ( \r\n                <InputElement \r\n                    inputType=\"text\" \r\n                    inputName=\"search\" \r\n                    inputValue={searchUser} \r\n                    onChangeHandler={e => {\r\n                        setSearchUser(e.target.value)\r\n                        setUserFound(true)\r\n                    }} \r\n                    checkText={false}\r\n                    onKeyPressHandler={e => showSearchUserHandler(e)} \r\n                    classes=\"border-top-0 border-left-0 border-right-0  w-100 my-2 custom-input\"    \r\n                    inputText=\"Search Users... \" \r\n                />\r\n        )\r\n    }\r\n}\r\n\r\nexport default ShowSearchInputOrNot;","import { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { fetchUserData } from '../../redux/actions/userActions';\r\n\r\nfunction useSearchUserHook() {\r\n    \r\n    const dispatch = useDispatch();\r\n    const { users } = useSelector(state => state.user);\r\n\r\n    const [searchUser, setSearchUser] = useState('');\r\n    const [searchResults, setSearchResults] = useState([]);\r\n    const [userFound, setUserFound] = useState(true);\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchUserData('/user'))\r\n    }, [dispatch])\r\n\r\n    const showSearchUserHandler = (e) => {\r\n        setSearchResults([]);\r\n        // if(e.key === 'Enter'){\r\n            setUserFound(false)\r\n            users.filter(u => {\r\n                if(u.username === searchUser){\r\n                    setSearchResults(prev => [...prev, u]);\r\n                    setUserFound(true);\r\n                } \r\n                return false;\r\n            })\r\n        // }\r\n    }\r\n\r\n    return [ userFound, searchResults, searchUser, setSearchUser, setUserFound, showSearchUserHandler ]\r\n}\r\n\r\nexport default useSearchUserHook;\r\n"],"sourceRoot":""}