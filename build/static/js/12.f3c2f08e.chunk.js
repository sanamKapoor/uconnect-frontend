(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[12],{150:function(e,t,a){e.exports=a.p+"static/media/user.5d288f42.jpg"},157:function(e,t,a){"use strict";a.r(t);var n=a(26),o=a(0),r=a.n(o),c=a(12),l=a(9),i=a(56),s=a(52),u=a(86),m=a(49),d=a(150),p=a.n(d),f=a(48);t.default=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.modal})),a=t.modalLoading,d=t.modalErrorMsg,b=t.modalSuccessMsg,g=t.showSuccessToast,h=Object(o.useState)(""),y=Object(n.a)(h,2),v=y[0],j=y[1],w=Object(o.useState)(""),O=Object(n.a)(w,2),E=O[0],x=O[1],S=Object(o.useState)(""),N=Object(n.a)(S,2),T=N[0],C=N[1],U=Object(o.useState)(""),L=Object(n.a)(U,2),R=L[0],k=L[1],A=Object(o.useState)(""),B=Object(n.a)(A,2),H=B[0],D=B[1],F=Object(o.useState)(null),I=Object(n.a)(F,2),M=I[0],P=I[1],_=Object(o.useState)(p.a),V=Object(n.a)(_,2),J=V[0],G=V[1],q=Object(o.useState)(!1),z=Object(n.a)(q,2),K=z[0],W=z[1];return Object(o.useEffect)((function(){if(M){var e=new FileReader;e.onload=function(){G(e.result)},e.readAsDataURL(M)}}),[M]),Object(o.useEffect)((function(){e(Object(f.b)("")),e(Object(f.c)(""))}),[e]),Object(o.useEffect)((function(){""!==b&&""===d&&(j(""),x(""),P(null),C(""),G(p.a))}),[d,b]),Object(o.useEffect)((function(){var t=setTimeout((function(){d&&e(Object(f.b)("")),b&&e(Object(f.c)("")),!g&&e(Object(f.e)(!0))}),2e3);return function(){clearTimeout(t)}}),[e,d,b,g]),r.a.createElement(r.a.Fragment,null,b&&g&&r.a.createElement(i.a,{msg:b}),r.a.createElement("div",{className:"auth-section"},r.a.createElement("section",{className:"signup"},r.a.createElement("div",{className:"row no-gutters m-3 shadow-lg"},r.a.createElement("div",{className:"col-12 col-lg-5 bg-warning user-image py-3"},r.a.createElement(m.a,{src:J,classes:"rounded-circle"}),r.a.createElement(u.a,{fileHandler:function(t){if(t.target.files&&1===t.target.files.length){P(t.target.files[0]);var a=t.target.files[0];if("image/jpg"!==a.type&&"image/png"!==a.type&&"image/jpeg"!==a.type)return void e(Object(f.b)("Invalid file type"));W(!0);var n=new FormData;n.append("file",a),n.append("upload_preset","uconnect"),n.append("cloud_name","willson-cloud"),fetch("".concat("https://api.cloudinary.com/v1_1","/").concat("willson-cloud","/image/upload"),{method:"post",body:n}).then((function(e){return e.json()})).then((function(t){k(t.secure_url),D(t.public_id),W(!1),e(Object(f.b)(""))})).catch((function(t){e(Object(f.b)("Something went wrong"))}))}},btnText:"Upload Image",disable:K,btnClass:"mt-3 btn btn-secondary btn-sm rounded-pill px-lg-4 py-lg-2 px-3 py-1"})),r.a.createElement("div",{className:"col-12 col-lg-7"},r.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),""!==v.trim()&&""!==E.trim()&&""!==T.trim())if(null!==M){var a=JSON.stringify({username:v,email:E,password:T,image:R,imgId:H});e(Object(f.a)("/auth/register","POST",a,{"Content-Type":"application/json"}))}else e(Object(f.b)("Please provide profile picture"));else e(Object(f.b)("Please provide auth credentials"))},className:"form signup-form p-3 p-lg-4 p-xl-5 text-center bg-light"},r.a.createElement("div",{className:"pb-lg-3 pb-md-2 pb-1"},r.a.createElement("div",{className:"logo"},r.a.createElement("h1",null,"UConnect ")),r.a.createElement("p",{className:"text-muted mx-2 welcome-p"},"Share your enjoying moments with friends and family!"),r.a.createElement("a",{href:"".concat("http://54.235.27.55:8080/test","/auth/google"),className:"btn btn-light rounded-pill shadow"},r.a.createElement("i",{className:"fab fa-google text-secondary mr-1 mr-sm-2"})," Login with Google")),r.a.createElement("div",null,r.a.createElement(s.a,{inputType:"text",inputName:"name",classes:"form-control my-2 my-md-3",inputText:"\ud83d\udc68  Username",checkText:!0,inputValue:v,maxLength:20,minLength:3,onChangeHandler:function(e){return j(e.target.value)}}),r.a.createElement(s.a,{inputType:"email",inputName:"email",inputText:"\ud83d\udce7 Email",classes:"form-control my-2 my-md-3",inputValue:E,onChangeHandler:function(e){return x(e.target.value)}}),r.a.createElement(s.a,{inputType:"password",inputName:"password",inputText:"\ud83d\udd12  Password",minLength:5,maxLength:20,classes:"form-control my-2 my-md-3",inputValue:T,onChangeHandler:function(e){return C(e.target.value)}}),d&&r.a.createElement("span",{className:"text-danger text-center"},d),r.a.createElement("button",{type:"submit",disabled:K,className:"btn btn-block btn-secondary my-3 shadow"},K||a?"Please wait...":"Sign Up")),r.a.createElement(c.b,{to:"/login",className:"text-secondary"},"Already have an account?")))))))}},86:function(e,t,a){"use strict";var n=a(0),o=a.n(n);t.a=function(e){var t=e.fileHandler,a=e.btnText,r=e.btnClass,c=e.disable,l=Object(n.createRef)();return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"file",ref:l,style:{display:"none"},accept:".jpg,.jpeg,.png",onChange:t}),o.a.createElement("button",{className:r,disabled:c,onClick:function(){l.current.click()}},a))}},91:function(e,t,a){var n,o,r;o=[],void 0===(r="function"===typeof(n=function(){return function e(t,a,n){var o,r,c=window,l="application/octet-stream",i=n||l,s=t,u=!a&&!n&&s,m=document.createElement("a"),d=function(e){return String(e)},p=c.Blob||c.MozBlob||c.WebKitBlob||d,f=a||"download";if(p=p.call?p.bind(c):Blob,"true"===String(this)&&(i=(s=[s,i])[0],s=s[1]),u&&u.length<2048&&(f=u.split("/").pop().split("?")[0],m.href=u,-1!==m.href.indexOf(u))){var b=new XMLHttpRequest;return b.open("GET",u,!0),b.responseType="blob",b.onload=function(t){e(t.target.response,f,l)},setTimeout((function(){b.send()}),0),b}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(s)){if(!(s.length>2096103.424&&p!==d))return navigator.msSaveBlob?navigator.msSaveBlob(v(s),f):j(s);i=(s=v(s)).type||l}else if(/([\x80-\xff])/.test(s)){for(var g=0,h=new Uint8Array(s.length),y=h.length;g<y;++g)h[g]=s.charCodeAt(g);s=new p([h],{type:i})}function v(e){for(var t=e.split(/[:;,]/),a=t[1],n=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),o=n.length,r=0,c=new Uint8Array(o);r<o;++r)c[r]=n.charCodeAt(r);return new p([c],{type:a})}function j(e,t){if("download"in m)return m.href=e,m.setAttribute("download",f),m.className="download-js-link",m.innerHTML="downloading...",m.style.display="none",document.body.appendChild(m),setTimeout((function(){m.click(),document.body.removeChild(m),!0===t&&setTimeout((function(){c.URL.revokeObjectURL(m.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var a=document.createElement("iframe");document.body.appendChild(a),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),a.src=e,setTimeout((function(){document.body.removeChild(a)}),333)}if(o=s instanceof p?s:new p([s],{type:i}),navigator.msSaveBlob)return navigator.msSaveBlob(o,f);if(c.URL)j(c.URL.createObjectURL(o),!0);else{if("string"===typeof o||o.constructor===d)try{return j("data:"+i+";base64,"+c.btoa(o))}catch(w){return j("data:"+i+","+encodeURIComponent(o))}(r=new FileReader).onload=function(e){j(this.result)},r.readAsDataURL(o)}return!0}})?n.apply(t,o):n)||(e.exports=r)}}]);
//# sourceMappingURL=12.f3c2f08e.chunk.js.map