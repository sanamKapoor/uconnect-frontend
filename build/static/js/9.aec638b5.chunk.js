/*! For license information please see 9.aec638b5.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[9],{160:function(e,t,n){"use strict";n.r(t);var a=n(57),r=n(26),c=n(0),o=n.n(c),i=n(9),l=n(3),s=n(76),u=n.n(s),m=n(12),f=n(89),d=n(159),p=n(51),b=n(23),h=n(58),E=n(52),v=n(48);var g=function(e){var t=e.show,n=e.onHide,a=e.postId,l=Object(i.b)(),s=Object(i.c)((function(e){return e.auth})).userId,u=Object(i.c)((function(e){return e.modal})),m=u.modalErrorMsg,f=u.modalSuccessMsg,g=u.modalLoading,y=u.showErrorToast,j=Object(c.useState)(!1),O=Object(r.a)(j,2),x=O[0],w=O[1],N=Object(c.useState)(!1),k=Object(r.a)(N,2),S=k[0],T=k[1],_=Object(c.useState)(0),L=Object(r.a)(_,2),C=L[0],P=L[1],H=Object(c.useState)(""),F=Object(r.a)(H,2),A=F[0],I=F[1],D=Object(c.useState)(null),B=Object(r.a)(D,2),G=B[0],U=B[1],M=Object(c.useState)(""),R=Object(r.a)(M,2),J=R[0],V=R[1],Y=Object(c.useState)(""),q=Object(r.a)(Y,2),z=q[0],W=q[1],K=Object(c.useState)(""),Q=Object(r.a)(K,2),X=Q[0],Z=Q[1],$=Object(c.useState)(!1),ee=Object(r.a)($,2),te=ee[0],ne=ee[1];return Object(c.useEffect)((function(){var e=document.querySelector(".modal-body");e&&P(e.clientHeight)}),[t]),Object(c.useEffect)((function(){w(!1),T(!1),I(""),U(null)}),[t]),Object(c.useEffect)((function(){""===m&&""!==f&&(I(""),U(null))}),[m,f]),o.a.createElement(d.a,{show:t,onHide:n,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(d.a.Header,{closeButton:!0},o.a.createElement(d.a.Title,{className:"h6",id:"contained-modal-title-vcenter"},o.a.createElement(p.a,null))),o.a.createElement(d.a.Body,null,g?o.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center",style:{height:"".concat(S?2*C:C,"px")}},o.a.createElement(b.a,null),o.a.createElement("span",{className:"my-2"},"Please wait...")):o.a.createElement("form",{className:"form p-1 p-sm-2 text-center",onSubmit:function(e){if(e.preventDefault(),y&&l(Object(v.d)(!1)),""!==A&&l(Object(v.a)("/post/".concat(a,"/update-caption"),"PATCH",JSON.stringify({creator:s,caption:A}),{"Content-Type":"application/json"},!0,s)),null!==G){var t=JSON.stringify({creator:s,mediaFile:{mediaId:z,fileName:X,filePath:J}});l(Object(v.a)("/post/".concat(a,"/update-media"),"PATCH",t,{"Content-Type":"application/json"},!0,s))}}},o.a.createElement("p",{className:"text-left"},"What would you like to update ?"),o.a.createElement("div",{className:"d-flex text-left"},o.a.createElement("div",{className:"form-check w-100"},o.a.createElement("input",{className:"form-check-input pointer",type:"radio",name:"exampleRadios",id:"exampleRadios1",value:"option1",onChange:function(){w(!0),T(!1),U(null),l(Object(v.b)(""))},checked:!0===x}),o.a.createElement("label",{className:"form-check-label",htmlFor:"exampleRadios1"},"Caption")),o.a.createElement("div",{className:"form-check w-100"},o.a.createElement("input",{className:"form-check-input pointer",type:"radio",name:"exampleRadios",id:"exampleRadios1",value:"option1",onChange:function(){w(!1),T(!0),I(""),l(Object(v.b)(""))},checked:!0===S}),o.a.createElement("label",{className:"form-check-label",htmlFor:"exampleRadios1"},"Media"))),x&&o.a.createElement(E.a,{inputName:"caption",inputText:"Caption",inputType:"text",inputValue:A,onChangeHandler:function(e){return I(e.target.value)},classes:"form-control my-2",minLength:"5",maxLength:"200",checkText:!0}),S&&o.a.createElement(h.a,{mediaFile:G,fileHandler:function(e){if(e.target.files&&1===e.target.files.length){U(e.target.files[0]);var t=e.target.files[0];if("image/jpg"===t.type||"image/png"===t.type||"image/jpeg"===t.type){ne(!0);var n=new FormData;n.append("file",t),n.append("upload_preset","uconnect"),n.append("cloud_name","willson-cloud"),fetch("".concat("https://api.cloudinary.com/v1_1","/").concat("willson-cloud","/image/upload"),{method:"post",body:n}).then((function(e){return e.json()})).then((function(e){V(e.secure_url),W(e.public_id),Z(t.name),ne(!1),l(Object(v.b)(""))})).catch((function(e){l(Object(v.b)("Something went wrong"))}))}}},disable:te}),m&&o.a.createElement("span",{className:"text-danger text-center"},m),(S||x)&&o.a.createElement("button",{type:"submit",disabled:te,className:"btn btn-outline-secondary btn-block mt-2 mt-sm-3"},te||g?"Please wait...":"Edit Post"))))},y=n(60),j=n(18);var O=function(e){var t=e.show,n=e.onHide,a=e.msg,r=e.postId,l=e.element,s=Object(i.b)(),u=Object(i.c)((function(e){return e.modal})),m=u.modalErrorMsg,f=u.modalSuccessMsg,p=Object(i.c)((function(e){return e.auth})).userId;return Object(c.useEffect)((function(){"User Deleted"===f&&s(Object(j.d)())}),[f,s]),o.a.createElement(d.a,{show:t,onHide:n,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(d.a.Body,{className:"text-center p-3 p-sm-4"},o.a.createElement("h5",{className:"text-muted warning-msg"},""!==a?a:"Are you sure ?"),o.a.createElement("div",{className:"pt-1 pt-sm-2"},o.a.createElement("button",{className:"btn btn-sm btn-danger m-1 m-sm-2",onClick:function(){switch(l){case"post":s(Object(v.a)("/post/".concat(r,"/").concat(p,"/delete"),"DELETE")),s(Object(y.c)("/post/user/".concat(p)));break;case"about":s(Object(v.a)("/user/about/".concat(p),"DELETE"));break;case"account":s(Object(v.a)("/user/".concat(p),"DELETE"));break;default:n()}m||n()}},"Yes"),o.a.createElement("button",{className:"btn btn-sm btn-info m-1 m-sm-2",onClick:n},"No"))))},x=n(49);var w=function(e){var t=e.post,n=e.isAdmin,a=Object(c.useState)(!1),i=Object(r.a)(a,2),l=i[0],s=i[1],u=Object(c.useState)(!1),m=Object(r.a)(u,2),d=m[0],p=m[1],b=Object(c.useState)(!1),h=Object(r.a)(b,2),E=h[0],v=h[1],y=Object(c.useState)(""),j=Object(r.a)(y,2),w=j[0],N=j[1];return t?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"shadow p-2"},t.mediaFile.isVideo?o.a.createElement("div",{className:"all-posts-img"},o.a.createElement("video",{src:t.mediaFile.filePath,controls:!0,controlsList:"nodownload",autoPlay:!0,muted:!0,loop:!0,style:{height:"100%",width:"100%",display:"flex"}})):o.a.createElement(x.a,{src:t.mediaFile.filePath,classes:"all-posts-img"}),n&&o.a.createElement("div",{className:"row text-center mt-2"},o.a.createElement("div",{className:"col"},o.a.createElement("i",{className:"far fa-eye post-icon",onClick:function(){return s(!0)}})),o.a.createElement("div",{className:"col"},o.a.createElement("i",{className:"fas fa-edit post-icon",onClick:function(){return p(!0)}})),o.a.createElement("div",{className:"col"},o.a.createElement("i",{className:"far fa-trash-alt post-icon",onClick:function(){return e="Are you sure you want to delete this post ?",v(!0),void N(e);var e}})))),o.a.createElement(f.a,{show:l,onHide:function(){return s(!1)},post:t,isAdmin:n}),o.a.createElement(g,{show:d,onHide:function(){return p(!1)},postId:t._id}),o.a.createElement(O,{show:E,onHide:function(){return v(!1)},msg:w,element:"post",postId:t._id})):""},N=n(66);var k=function(e){var t=e.show,n=e.onHide,a=e.user,l=Object(c.createRef)(),s=Object(i.b)(),u=Object(i.c)((function(e){return e.auth})).userId,m=Object(i.c)((function(e){return e.modal})),f=m.modalErrorMsg,h=m.modalLoading,g=m.showErrorToast,y=Object(c.useState)(""),j=Object(r.a)(y,2),O=j[0],x=j[1],w=Object(c.useState)(""),N=Object(r.a)(w,2),k=N[0],S=N[1],T=Object(c.useState)(""),_=Object(r.a)(T,2),L=_[0],C=_[1],P=Object(c.useState)(0),H=Object(r.a)(P,2),F=H[0],A=H[1];return Object(c.useEffect)((function(){var e=document.querySelector("form");e&&A(e.clientHeight)}),[t]),Object(c.useEffect)((function(){a.profession?x(a.profession):x(""),a.location?S(a.location):S(""),a.bio?C(a.bio):C("")}),[t,a.profession,a.bio,a.location]),o.a.createElement(d.a,{show:t,onHide:n,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(d.a.Header,{closeButton:!0},o.a.createElement(d.a.Title,{className:"h6",id:"contained-modal-title-vcenter"},o.a.createElement(p.a,null))),o.a.createElement(d.a.Body,null,h?o.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:{height:"".concat(F,"px")}},o.a.createElement(b.a,null)):o.a.createElement("form",{className:"form text-center",onSubmit:function(e){if(e.preventDefault(),g&&s(Object(v.d)(!1)),a.profession&&""===O.trim()||a.location&&""===k.trim()||a.bio&&""===L.trim())return s(Object(v.b)("You can not erase input like this.")),C(a.bio),S(a.location),void x(a.profession);if((a.profession!==O||a.bio!==L||a.location!==k)&&(""!==O.trim()||""!==k.trim()||""!==L.trim())){var t={profession:O,location:k,bio:L};s(Object(v.a)("/user/about/".concat(u),"PATCH",JSON.stringify(t),{"Content-Type":"application/json"}))}}},o.a.createElement(E.a,{inputType:"text",inputName:"profession",inputValue:O,inputRef:l,onChangeHandler:function(e){return x(e.target.value)},classes:"custom-input w-100 border-top-0 border-right-0 border-left-0 my-2",inputText:"Profession",checkText:!0,maxLength:"50"}),o.a.createElement(E.a,{inputType:"text",inputName:"location",inputValue:k,inputRef:l,onChangeHandler:function(e){return S(e.target.value)},classes:"custom-input w-100 border-top-0 border-right-0 border-left-0 my-2",inputText:"Location",checkText:!0,maxLength:"50"}),o.a.createElement("textarea",{name:"bio",rows:"3",value:L,onChange:function(e){return C(e.target.value)},className:"form-control my-2",maxLength:"100",placeholder:"Bio..."}),f&&o.a.createElement("span",{className:"text-danger text-center my-2"},f),o.a.createElement("button",{type:"submit",className:"btn btn-outline-secondary btn-block mt-3"},"Edit Profile"))))};var S=function(e){var t,n=e.usr,l=e.isAdmin,s=Object(i.b)(),u=Object(i.c)((function(e){return e.user})).user,m=Object(i.c)((function(e){return e.auth})).userId,f=Object(c.useState)(!1),d=Object(r.a)(f,2),p=d[0],b=d[1],h=Object(c.useState)(!1),E=Object(r.a)(h,2),g=E[0],y=E[1],j=Object(c.useState)(!1),x=Object(r.a)(j,2),w=x[0],S=x[1],T=Object(c.useState)(""),_=Object(r.a)(T,2),L=_[0],C=_[1],P=Object(c.useState)(!0),H=Object(r.a)(P,2),F=H[0],A=H[1],I=Object(c.useState)(0),D=Object(r.a)(I,2),B=D[0],G=D[1],U=Object(c.useState)(""),M=Object(r.a)(U,2),R=M[0],J=M[1],V=function(e){b(!0),C(e)};return Object(c.useEffect)((function(){if(n.posts&&G(n.posts.length),u.connections){var e,t=!1;if((null===(e=u.connections)||void 0===e?void 0:e.length)>0){var r,c=Object(a.a)(u.connections);try{for(c.s();!(r=c.n()).done;){if(r.value===n._id){t=!0;break}}}catch(o){c.e(o)}finally{c.f()}}A(!t)}}),[n,m,u.connections]),n?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-12 col-md-8 my-3"},o.a.createElement("div",{className:"profile-title d-flex flex-column flex-sm-row align-items-center justify-content-center justify-content-md-start"},o.a.createElement("h2",{className:"profile-name"},n.username),l&&o.a.createElement("div",{className:"ml-sm-4 d-flex"},o.a.createElement("button",{className:"btn btn-info btn-sm mx-1 d-flex align-items-center",onClick:function(){return S(!0)}},"Edit ",o.a.createElement("i",{className:"fas fa-edit ml-2"})),o.a.createElement("button",{className:"btn btn-danger btn-sm mx-1 d-flex align-items-center",onClick:function(){V("Do you really want to delete your account ?"),J("account")}},"Delete ",o.a.createElement("i",{className:"far fa-trash-alt ml-2"})))),o.a.createElement("div",{className:"profile-data"},o.a.createElement("div",{className:"row my-3 font-weight-bold text-center text-md-left"},o.a.createElement("div",{className:"col"},B," ",B>1?"Posts":"Post"),n.connections&&o.a.createElement("div",{className:"col"},o.a.createElement("span",{className:"pointer",onClick:function(){return y(!0)}},null===(t=n.connections)||void 0===t?void 0:t.length," ",n.connections.length>1?"Connections":"Connection")),!l&&o.a.createElement("div",{className:"col"},o.a.createElement("button",{className:"btn btn-block btn-primary btn-sm",onClick:function(){s(F?Object(v.a)("/user/".concat(n._id,"/connect/").concat(m),"POST"):Object(v.a)("/user/".concat(n._id,"/block/").concat(m),"POST"))}},F?"Connect":"Block")))),o.a.createElement("div",{className:"my-2 my-lg-3 text-center text-md-left text-break w-75 mx-auto mx-md-0"},n.profession&&o.a.createElement("div",null,o.a.createElement("i",{className:"fas fa-user mr-2"}),n.profession),n.location&&o.a.createElement("div",null,o.a.createElement("i",{className:"fas fa-map-marker-alt mr-2"}),n.location),n.bio&&o.a.createElement("div",null,n.bio),(n.profession||n.location||n.bio)&&l&&o.a.createElement("i",{className:"far fa-trash-alt float-right m-1 post-icon",onClick:function(){V("Do you really want to delete your about info ?"),J("about")}}))),o.a.createElement(O,{show:p,onHide:function(){return b(!1)},msg:L,element:R}),o.a.createElement(N.a,{show:g,onHide:function(){return y(!1)},propsUsers:n.connections,isAdmin:l,errorText:"Didn't found any connection."}),o.a.createElement(k,{show:w,onHide:function(){return S(!1)},user:n})):""},T=n(86);var _=function(e){var t=e.usr,n=e.isAdmin,a=Object(i.b)(),l=Object(i.c)((function(e){return e.auth})).userId,s=Object(c.useState)(!1),u=Object(r.a)(s,2),m=u[0],f=u[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-12 col-md-4 d-flex flex-column justify-content-center align-items-center"},o.a.createElement(x.a,{src:t.image,classes:"rounded-circle profile-pic"}),n&&o.a.createElement(T.a,{fileHandler:function(e){if(e.target.files&&1===e.target.files.length){var t=e.target.files[0];if("image/jpg"!==t.type&&"image/png"!==t.type&&"image/jpeg"!==t.type)return void a(Object(v.b)("Invalid file type"));f(!0);var n=new FormData;n.append("file",t),n.append("upload_preset","uconnect"),n.append("cloud_name","willson-cloud"),fetch("".concat("https://api.cloudinary.com/v1_1","/").concat("willson-cloud","/image/upload"),{method:"post",body:n}).then((function(e){return e.json()})).then((function(e){var t=JSON.stringify({img_url:e.secure_url,img_id:e.public_id});a(Object(v.a)("/user/".concat(l,"/update-image"),"POST",t,{"Content-Type":"application/json"})),f(!1),a(Object(v.b)(""))})).catch((function(e){a(Object(v.b)("Something went wrong"))}))}},btnClass:"mt-2 mt-sm-3 btn btn-secondary btn-sm rounded-pill px-3  py-1",btnText:"Edit Image",disable:m})))};var L=function(e){var t=e.isAdmin,n=e.currentUser,a=Object(i.c)((function(e){return e.post})),l=a.profilePostErr,s=a.fetchProfilePosts,u=Object(i.c)((function(e){return e.modal})),f=u.modalErrorMsg,d=u.modalSuccessMsg,p=u.showErrorToast,b=u.showSuccessToast,h=Object(c.useState)([]),E=Object(r.a)(h,2),g=E[0],y=E[1];Object(c.useEffect)((function(){y(s)}),[s]);var j=Object(i.b)();return Object(c.useEffect)((function(){var e=setTimeout((function(){d&&j(Object(v.c)("")),f&&j(Object(v.b)("")),!p&&j(Object(v.d)(!0)),!b&&j(Object(v.e)(!0))}),2e3);return function(){clearTimeout(e)}}),[j,f,d,b,p]),n?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container-lg my-4"},o.a.createElement(m.b,{to:"/",className:"mb-4"},o.a.createElement("i",{className:"fas fa-arrow-left post-icon text-secondary ml-1"})),o.a.createElement("div",{className:"row"},o.a.createElement(o.a.Fragment,null,n.image&&o.a.createElement(_,{usr:n,isAdmin:t}),o.a.createElement(S,{usr:n,isAdmin:t}))),l&&o.a.createElement("p",{className:"text-center text-muted mt-3"},l),!l&&g.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:"mt-2 mt-sm-3 mt-md-4 mt-lg-5 post-headline"},"All Posts"),o.a.createElement("hr",null),o.a.createElement("div",{className:"user-post-row my-4"},g.map((function(e){return o.a.createElement(w,{key:e._id,post:e,isAdmin:t})})))),o.a.createElement("div",{className:"py-2 py-lg-0"}))):o.a.createElement("div",{className:"text-center mt-4"})},C=n(56),P=n(53);t.default=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})).userId,n=Object(i.c)((function(e){return e.user})),s=n.userErrorMsg,m=n.userLoading,f=n.users,d=Object(i.c)((function(e){return e.modal})),p=d.modalSuccessMsg,h=d.modalErrorMsg,E=d.showSuccessToast,v=d.showErrorToast,g=Object(l.g)().id,j=Object(c.useState)(!1),O=Object(r.a)(j,2),x=O[0],w=O[1],N=Object(c.useState)(null),k=Object(r.a)(N,2),S=k[0],T=k[1];return Object(c.useEffect)((function(){w(!1),e(Object(y.f)([])),e(Object(y.a)(!1)),e(Object(P.d)("")),e(Object(y.c)("/post/user/".concat(g))),null!==t&&(e(Object(P.a)("/user")),e(Object(P.a)("/user/".concat(t)))),g===t&&w(!0)}),[g,t,e]),Object(c.useEffect)((function(){var e,t=Object(a.a)(f);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n._id===g){T(n);break}}}catch(r){t.e(r)}finally{t.f()}}),[g,f]),Object(c.useEffect)((function(){var t=u()("http://54.235.27.55:8080/test");t.on("posts",(function(t){"GetPost"===t.action&&e(Object(y.h)(t.data)),"GetAllPosts"===t.action&&(e(Object(P.c)(t.creator)),e(Object(P.b)(t.creator)))})),t.on("users",(function(t){"GetUser"!==t.action&&"ConnectOrBlockUser"!==t.action||(e(Object(P.c)(t.user)),e(Object(P.b)(t.user)),null!==t.otherUser&&e(Object(P.b)(t.otherUser)))}))}),[e]),m?o.a.createElement("div",{className:"text-center mt-4"},o.a.createElement(b.a,null)):s&&!m?o.a.createElement("p",{className:"text-center mt-4"},s):o.a.createElement(o.a.Fragment,null,p&&E&&o.a.createElement(C.a,{msg:p}),h&&v&&o.a.createElement(C.a,{msg:h}),o.a.createElement(L,{isAdmin:x,currentUser:S}))}},51:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(9),o=n(49);t.a=function(){var e=Object(c.c)((function(e){return e.user})).user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{src:e.image,width:"30",height:"30",classes:"rounded-circle mr-1"})," ",r.a.createElement("span",null,e.username))}},53:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(1),r=n(27),c=n(11);function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof f?t:f,c=Object.create(r.prototype),o=new w(a||[]);return c._invoke=function(e,t,n){var a="suspendedStart";return function(r,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw c;return k()}for(n.method=r,n.arg=c;;){var o=n.delegate;if(o){var i=j(o,n);if(i){if(i===m)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var l=u(e,t,n);if("normal"===l.type){if(a=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),c}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var m={};function f(){}function d(){}function p(){}var b={};l(b,r,(function(){return this}));var h=Object.getPrototypeOf,E=h&&h(h(N([])));E&&E!==t&&n.call(E,r)&&(b=E);var v=p.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var a;this._invoke=function(r,c){function o(){return new t((function(a,o){!function a(r,c,o,i){var l=u(e[r],e,c);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){a("next",e,o,i)}),(function(e){a("throw",e,o,i)})):t.resolve(m).then((function(e){s.value=e,o(s)}),(function(e){return a("throw",e,o,i)}))}i(l.arg)}(r,c,a,o)}))}return a=a?a.then(o,o):o()}}function j(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,c=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=p,l(v,"constructor",p),l(p,"constructor",d),d.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),l(y.prototype,c,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,a,r,c){void 0===c&&(c=Promise);var o=new y(s(t,n,a,r),c);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=N,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return o.type="throw",o.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var c=this.tryEntries[r],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=n.call(c,"catchLoc"),l=n.call(c,"finallyLoc");if(i&&l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var c=r;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}var i=function(e){return{type:c.f,payload:e}},l=function(e){return{type:c.e,payload:e}},s=function(e){return{type:c.g,payload:e}},u=function(e){return{type:c.b,payload:e}},m=function(e){return{type:c.a,payload:e}},f=function(e){return{type:c.d,payload:e}},d=function(e){return{type:c.c,payload:e}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3?arguments[3]:void 0;return function(){var f=Object(r.a)(o().mark((function r(f){var d,p,b,h,E,v;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return"GET"===t&&f(i(!0)),r.prev=1,d=localStorage.getItem("jwtToken"),r.next=5,fetch("http://54.235.27.55:8080/test"+e,{method:t,body:n,headers:Object(a.a)(Object(a.a)({},c),{},{Authorization:"Bearer "+d})});case 5:return p=r.sent,r.next=8,p.json();case 8:if(b=r.sent,p.ok){r.next=11;break}throw new Error(b.message);case 11:f(i(!1)),h=b.users,E=b.user,v=b.msg,h&&f(u(h)),E&&f(m(E)),E||h||!v||f(s(v)),r.next=22;break;case 18:r.prev=18,r.t0=r.catch(1),f(i(!1)),r.t0.message?f(l(r.t0.message)):f(l(r.t0));case 22:case"end":return r.stop()}}),r,null,[[1,18]])})));return function(e){return f.apply(this,arguments)}}()}},58:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(e){var t=e.mediaFile,n=e.fileHandler,c=e.disable,o=Object(a.createRef)();return r.a.createElement("div",{className:"file-upload my-2 my-sm-3"},r.a.createElement("span",{className:"text-muted text-center px-2"},t?t.name:"Select any image file"),r.a.createElement("input",{type:"file",ref:o,style:{display:"none"},accept:".jpg,.jpeg,.png",onChange:n}),r.a.createElement("button",{type:"button",disabled:c,onClick:function(){o.current.click()},className:"btn btn-secondary btn-sm my-2"},"Upload"))}},64:function(e,t,n){"use strict";var a=n(57),r=n(26),c=n(0),o=n.n(c),i=n(9),l=n(12),s=n(48),u=n(49);t.a=function(e){var t=e.usr,n=e.showOption,m=Object(i.c)((function(e){return e.user})).user,f=Object(i.c)((function(e){return e.auth})).userId,d=Object(i.b)(),p=Object(c.useState)(!1),b=Object(r.a)(p,2),h=b[0],E=b[1];return Object(c.useEffect)((function(){if(m.connections){var e=!1;if(m.connections.length>0){var n,r=Object(a.a)(m.connections);try{for(r.s();!(n=r.n()).done;){if(n.value===t._id){e=!0;break}}}catch(c){r.e(c)}finally{r.f()}}E(!e)}}),[m.connections,t]),o.a.createElement("div",{className:"row no-gutters d-flex justify-content-between align-items-center my-3"},o.a.createElement(l.b,{to:"/profile/".concat(t._id),className:"post-user pointer text-dark text-decoration-none"},o.a.createElement(u.a,{src:t.image,width:"30",height:"30",classes:"rounded-circle mr-1"}),o.a.createElement("span",null,t.username)),n&&t._id!==f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("small",{className:"text-info mr-2 pointer",onClick:function(){d(Object(s.e)(!1)),d(h?Object(s.a)("/user/".concat(t._id,"/connect/").concat(f),"POST"):Object(s.a)("/user/".concat(t._id,"/block/").concat(f),"POST"))}},h?"Connect":"Block")))}},66:function(e,t,n){"use strict";var a=n(19),r=n(57),c=n(26),o=n(0),i=n.n(o),l=n(159),s=n(9),u=n(64),m=n(51);t.a=function(e){var t=e.show,n=e.onHide,f=e.propsUsers,d=e.isAdmin,p=e.errorText,b=Object(s.c)((function(e){return e.user})).users,h=Object(o.useState)([]),E=Object(c.a)(h,2),v=E[0],g=E[1],y=Object(o.useState)(!1),j=Object(c.a)(y,2),O=j[0],x=j[1];return Object(o.useEffect)((function(){if(d&&x(!0),f){g([]);var e,t=Object(r.a)(b);try{var n=function(){var t,n=e.value,c=Object(r.a)(f);try{for(c.s();!(t=c.n()).done;){var o=t.value;n._id===o&&g((function(e){return[].concat(Object(a.a)(e),[n])}))}}catch(i){c.e(i)}finally{c.f()}};for(t.s();!(e=t.n()).done;)n()}catch(c){t.e(c)}finally{t.f()}}}),[f,b,d]),i.a.createElement(l.a,{show:t,onHide:n,"aria-labelledby":"contained-modal-title-vcenter-2",scrollable:!0,centered:!0},i.a.createElement(l.a.Header,{closeButton:!0},i.a.createElement(l.a.Title,{className:"h6",id:"contained-modal-title-vcenter"},i.a.createElement(m.a,null))),i.a.createElement(l.a.Body,{className:"py-1 post-likes"},i.a.createElement("div",{className:"search-and-suggested-users"},v.length>0?v.map((function(e){return i.a.createElement(u.a,{key:e._id,usr:e,showOption:O})})):i.a.createElement("p",{className:"text-center text-muted py-3"},i.a.createElement("span",null,p)))))}},71:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(e){var t=e.src,n=e.classes,a=e.height;return r.a.createElement("div",{style:{height:a}},r.a.createElement("video",{src:t,controlsList:"nodownload",muted:!0,controls:!0,autoPlay:!0,loop:!0,className:n,style:{height:a}}))}},73:function(e,t,n){"use strict";var a=n(26),r=n(0),c=n.n(r),o=n(9),i=n(48);var l=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.auth})).userId,n=Object(r.useState)(""),c=Object(a.a)(n,2),l=c[0],s=c[1];return[l,s,function(n,a){n.preventDefault(),e(Object(i.e)(!1));var r=JSON.stringify({comment:l,user:t});e(Object(i.a)("/post/".concat(a,"/comment"),"POST",r,{"Content-Type":"application/json"})),s("")}]},s=n(52);t.a=function(e){var t=e.postId,n=l(),r=Object(a.a)(n,3),o=r[0],i=r[1],u=r[2];return c.a.createElement("form",{className:"comment-form",onSubmit:function(e){return u(e,t)}},c.a.createElement(s.a,{inputType:"text",inputName:"comment",inputValue:o,onChangeHandler:function(e){return i(e.target.value)},classes:"border-0 w-75 my-2 comment",inputText:"Add Comment",maxLength:"100",checkText:!1}),c.a.createElement("button",{type:"submit",className:"btn comment-form-btn text-muted float-right"},"Post"))}},82:function(e,t){},86:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(e){var t=e.fileHandler,n=e.btnText,c=e.btnClass,o=e.disable,i=Object(a.createRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"file",ref:i,style:{display:"none"},accept:".jpg,.jpeg,.png",onChange:t}),r.a.createElement("button",{className:c,disabled:o,onClick:function(){i.current.click()}},n))}},89:function(e,t,n){"use strict";var a=n(26),r=n(0),c=n.n(r),o=n(159),i=n(71),l=n(49),s=n(9),u=n(12),m=n(48);var f=function(e){var t=e.usr,n=e.postId,o=e.isAdmin,i=Object(s.b)(),f=Object(s.c)((function(e){return e.user})).users,d=Object(s.c)((function(e){return e.auth})).userId,p=Object(r.useState)(""),b=Object(a.a)(p,2),h=b[0],E=b[1],v=Object(r.useState)(""),g=Object(a.a)(v,2),y=g[0],j=g[1],O=Object(r.useState)(!1),x=Object(a.a)(O,2),w=x[0],N=x[1];return Object(r.useEffect)((function(){f.filter((function(e){return e._id===t.user&&E(e),!1})),(d===t.user||o)&&N(!0)}),[t.user,d,f,o]),Object(r.useEffect)((function(){h&&j(h.image)}),[h]),c.a.createElement("div",{className:"post-user p-2"},c.a.createElement(l.a,{src:y,width:"20",height:"20",classes:"rounded-circle mr-1"}),c.a.createElement(u.b,{to:"/profile/".concat(h._id),className:"text-dark text-decoration-none"},c.a.createElement("small",null,h.username)),c.a.createElement("br",null),c.a.createElement("small",{className:"text-muted text-break"},t.text," ",w&&c.a.createElement("i",{className:"far fa-trash-alt float-right m-1 pointer",onClick:function(){i(Object(m.e)(!1)),i(o?Object(m.a)("/post/".concat(n,"/").concat(h._id,"/").concat(d,"/auth-comments"),"DELETE"):Object(m.a)("/post/".concat(n,"/").concat(d,"/comment"),"DELETE"))}})))},d=n(51),p=n(73),b=n(66);t.a=function(e){var t=e.show,n=e.onHide,s=e.post,u=e.isAdmin,m=Object(r.useState)(!1),h=Object(a.a)(m,2),E=h[0],v=h[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,{show:t,onHide:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",scrollable:!0,centered:!0},c.a.createElement(o.a.Header,{closeButton:!0},c.a.createElement(o.a.Title,{className:"h6",id:"contained-modal-title-vcenter"},c.a.createElement(d.a,null))),c.a.createElement(o.a.Body,{className:"p-0"},c.a.createElement("div",{className:"row no-gutters"},c.a.createElement("div",{className:"col-12 col-lg-7 p-2"},s.mediaFile.isVideo?c.a.createElement(i.a,{src:s.mediaFile.filePath,classes:"modal-image",height:"auto"}):c.a.createElement(l.a,{src:s.mediaFile.filePath,classes:"modal-image"}),c.a.createElement("div",{className:"modal-post-content"},s.likes.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("small",{className:"pb-2 font-weight-bold pointer",onClick:function(){return v(!0)}},"Liked by ",s.likes.length," people"),c.a.createElement("br",null)),c.a.createElement("small",{className:"text-break"},s.caption))),c.a.createElement("div",{className:"col-12 col-lg-5 d-flex flex-column justify-content-between px-2"},c.a.createElement("div",{className:"all-comments order-1 order-lg-0"},s.comments.length>0?s.comments.map((function(e){return c.a.createElement(f,{key:e._id,usr:e,postId:s._id,isAdmin:u})})):c.a.createElement("div",{className:"d-none d-lg-flex justify-content-center align-items-center text-muted"},c.a.createElement("span",{className:"my-2"},"No Comments"))),c.a.createElement(p.a,{postId:s._id}))))),c.a.createElement(b.a,{show:E,onHide:function(){return v(!1)},propsUsers:s.likes,errorText:"No User Found."}))}}}]);
//# sourceMappingURL=9.aec638b5.chunk.js.map